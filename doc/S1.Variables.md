# Переменные в Rust

**Переменные** — это именованные контейнеры для хранения данных. В Rust переменные позволяют хранить значения и ссылаться на них по имени, что облегчает чтение и поддержку кода.

## Неизменяемость переменных

В Rust переменные по умолчанию **неизменяемы** (immutable). Это означает, что после присвоения значения переменной вы не можете изменить это значение. Такая особенность помогает писать более безопасный и предсказуемый код.

### Объявление неизменяемой переменной

```rust
let x = 5;
println!("Значение x: {}", x);
```

В этом примере мы объявляем переменную `x` и присваиваем ей значение `5`. Тип переменной автоматически выводится компилятором на основе присвоенного значения (в данном случае `i32`).

Если вы попытаетесь изменить значение `x`, компилятор выдаст ошибку:

```rust
let x = 5;
x = 6; // Ошибка: cannot assign twice to immutable variable `x`
```

## Изменяемые переменные

Чтобы сделать переменную **изменяемой** (mutable), необходимо использовать ключевое слово `mut` при её объявлении.

### Объявление изменяемой переменной

```rust
let mut y = 10;
println!("Начальное значение y: {}", y);

y = y + 5;
println!("Новое значение y: {}", y);
```

В этом примере переменная `y` объявлена как изменяемая. Мы можем изменить её значение, и компилятор не будет против.

## Особенности переменных в Rust

### Явное управление изменяемостью

- **Неизменяемость по умолчанию** - способствует написанию безопасного кода, так как предотвращает непреднамеренные изменения данных.
- Использование `mut` явно показывает, что **переменная может быть изменена**, что повышает читаемость кода.

### Теневание переменных (Shadowing)

Rust позволяет объявлять новую переменную с тем же именем, что и у существующей. Это называется **теневанием**.

#### Пример теневания

```rust
let z = 5;
let z = z + 1; // Новая переменная z, "затеняющая" старую
println!("Значение z: {}", z);
```

В этом случае мы объявляем новую переменную `z`, которая основывается на старой `z`, но имеет новое значение.

### Типы переменных

Переменные в Rust имеют **статический тип**, который определяется во время компиляции. Тип можно указать явно или позволить компилятору вывести его автоматически.

#### Явное указание типа

```rust
let a: f64 = 3.1415;
println!("Значение a: {}", a);
```

## Примеры использования переменных

### Пример 1: Вычисление площади прямоугольника

```rust
let width = 10;
let height = 5;
let area = width * height;
println!("Площадь прямоугольника: {}", area);
```

В этом примере мы используем три переменные: `width`, `height` и `area`. Они неизменяемые и хранят целочисленные значения.

### Пример 2: Использование изменяемой переменной для счётчика

```rust
let mut counter = 0;

for _ in 0..5 {
    counter += 1;
    println!("Счётчик: {}", counter);
}
```

Здесь переменная `counter` объявлена как изменяемая. В цикле мы увеличиваем её значение и выводим на экран.

### Пример 3: Теневание и преобразование типов

```rust
let spaces = "   ";
let spaces = spaces.len();
println!("Количество пробелов: {}", spaces);
```

Сначала переменная `spaces` содержит строку из пробелов. Затем мы "затеняем" её, объявляя новую переменную `spaces`, которая хранит длину строки (число типа `usize`).

## Практические советы

- Используйте неизменяемые переменные (по возможности) - это делает код более безопасным и упрощает отладку.
- Используйте изменяемые переменные, когда это необходимо, допустим для счётчиков в циклах или при накоплении значений.
- Явно указывайте типы при необходимости - это может улучшить читаемость кода и помочь компилятору выдавать более понятные сообщения об ошибках.
- Будьте внимательны с теневанием переменных, т.к. может затруднить понимание кода.